# PyQuantUS

PyQuantUS is the pip-accessible backend engine for [QuantUS](https://github.com/TUL-Dev/QuantUS) written in Python. It contains all data loading and analytical capabilities of QuantUS, enabling scalable batch processing through a command-line interface.

Complete software documentation for QuantUS and PyQuantUS can be found [here](https://tul-dev.github.io/PyQuantUS/).

## Installation for External Use

Requires `Python>=3.10.0`.

```shell
pip install git+https://github.com/TUL-Dev/PyQuantUS
```

## Installation for Developers

Requires `Python>=3.10.0`. We will refer to the path of such a Python version as `$PYTHON` below.

Below are steps to create a new python virtual environment for PyQuantUS. Note lines commented with `# Unix` should only be run on MacOS or Linux while lines commented with `# Windows (cmd)` should only be run on the Windows command prompt. These commands should be run from the directory of this repository.

```shell
$PYTHON -m pip install virtualenv
$PYTHON -m virtualenv .venv
source .venv/bin/activate # Unix
.venv\Scripts\activate # Windows (cmd)
sudo apt-get update & sudo apt-get install python3-dev # Linux
pip install -r requirements.txt
```

This environment is activated using `source .venv/bin/activate | .venv\Scripts\activate` and deactivated using the `deactivate` command.

### Linux Users

[lzop](https://www.lzop.org/) is required to unzip `.tar` files generated by Clarius systems. Ensure this is installed using your preferred package manager.

## Usage

See the notebooks in the [CLI-Demos](CLI-Demos/) folder for examples of analysis for different ultrasound systems. Also note slight differences between examples scan-converted (sc) and non-scan-converted images. Data required to reproduce these examples is stored [here](https://drive.google.com/drive/folders/139J4vLa7ZVnKE6tzMHf__Ug3-IydpBqd?usp=sharing
). When using these notebooks, the Python environment should match the environment created for [QuantUS](https://github.com/TUL-Dev/QuantUS).

## UTC Parameter Validation Progress

- [x] MBF
- [x] SS
- [x] SI
- [x] Attenuation Coefficient
- [x] Nakagami Parameters (w, u)
- [x] Backscatter Coefficient
- [ ] Effective Scatterer Diameter
- [ ] Effective Scatterer Concentration
